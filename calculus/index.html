<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculus - Derivatives, Integrals & Applications | Math.help</title>
    <meta name="description" content="Master calculus with interactive tools and step-by-step solutions. Learn derivatives, integrals, limits, and applications with comprehensive examples.">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <style>
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
            margin: var(--space-8) 0;
        }
        
        .concept-card {
            background: var(--color-white);
            border: 1px solid var(--color-grey-200);
            border-radius: var(--border-radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-normal);
        }
        
        .concept-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .concept-icon {
            font-size: var(--font-size-3xl);
            margin-bottom: var(--space-4);
            color: var(--color-accent);
        }
        
        .concept-title {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-semibold);
            color: var(--color-primary);
            margin-bottom: var(--space-3);
        }
        
        .concept-description {
            color: var(--color-grey-600);
            margin-bottom: var(--space-4);
            line-height: var(--line-height-relaxed);
        }
        
        .example-preview {
            background: var(--color-grey-50);
            border: 1px solid var(--color-grey-200);
            border-radius: var(--border-radius);
            padding: var(--space-4);
            margin: var(--space-4) 0;
            font-family: var(--font-family-mono);
            text-align: center;
        }
        
        .try-it-btn {
            background-color: var(--color-accent);
            color: var(--color-white);
            border: none;
            padding: var(--space-3) var(--space-6);
            border-radius: var(--border-radius);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all var(--transition-normal);
        }
        
        .try-it-btn:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
            color: var(--color-white);
        }
        
        .interactive-section {
            background: var(--color-grey-50);
            border-radius: var(--border-radius-lg);
            padding: var(--space-8);
            margin: var(--space-12) 0;
        }
        
        .solver-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: var(--space-6);
            flex-wrap: wrap;
            gap: var(--space-2);
        }
        
        .solver-tab {
            background: var(--color-white);
            border: 1px solid var(--color-grey-300);
            padding: var(--space-3) var(--space-4);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all var(--transition-normal);
            font-weight: var(--font-weight-medium);
        }
        
        .solver-tab.active {
            background: var(--color-accent);
            color: var(--color-white);
            border-color: var(--color-accent);
        }
        
        .solver-content {
            display: none;
        }
        
        .solver-content.active {
            display: block;
        }
        
        .input-group {
            margin-bottom: var(--space-4);
        }
        
        .input-group label {
            display: block;
            margin-bottom: var(--space-2);
            font-weight: var(--font-weight-medium);
            color: var(--color-primary);
        }
        
        .input-field {
            width: 100%;
            padding: var(--space-3);
            border: 1px solid var(--color-grey-300);
            border-radius: var(--border-radius);
            font-size: var(--font-size-base);
            font-family: var(--font-family-mono);
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--color-accent);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .solution-display {
            background: var(--color-white);
            border: 1px solid var(--color-grey-200);
            border-radius: var(--border-radius);
            padding: var(--space-4);
            margin-top: var(--space-4);
            min-height: 60px;
        }
        
        .solution-steps {
            background: var(--color-white);
            border: 1px solid var(--color-grey-200);
            border-radius: var(--border-radius);
            padding: var(--space-4);
            margin-top: var(--space-4);
        }
        
        .step {
            padding: var(--space-2) 0;
            border-bottom: 1px solid var(--color-grey-100);
        }
        
        .step:last-child {
            border-bottom: none;
        }
        
        .step-number {
            background: var(--color-accent);
            color: var(--color-white);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            margin-right: var(--space-3);
        }
        
        .learning-path {
            background: linear-gradient(135deg, var(--color-accent) 0%, #2980b9 100%);
            color: var(--color-white);
            padding: var(--space-8);
            border-radius: var(--border-radius-lg);
            margin: var(--space-12) 0;
        }
        
        .path-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-6);
        }
        
        .path-step {
            background: rgba(255, 255, 255, 0.1);
            padding: var(--space-4);
            border-radius: var(--border-radius);
            text-align: center;
        }
        
        .path-step-number {
            background: rgba(255, 255, 255, 0.2);
            color: var(--color-white);
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-2);
        }
        
        .graph-container {
            background: var(--color-white);
            border: 1px solid var(--color-grey-200);
            border-radius: var(--border-radius);
            padding: var(--space-4);
            margin: var(--space-4) 0;
            text-align: center;
        }
        
        .graph-placeholder {
            width: 100%;
            height: 300px;
            background: var(--color-grey-50);
            border: 2px dashed var(--color-grey-300);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-grey-500);
            font-size: var(--font-size-lg);
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1 class="site-title">Calculus</h1>
            <p class="tagline">Master derivatives, integrals, and mathematical analysis</p>
        </div>
    </header>

    <nav class="main-nav">
        <div class="container">
            <ul class="nav-list">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../mathverse.html">MathVerse</a></li>
                <li><a href="../ai-assistant.html">ðŸ¤– AI Assistant</a></li>
                <li><a href="../algebra/">Algebra</a></li>
                <li><a href="index.html" class="active">Calculus</a></li>
                <li><a href="../geometry/">Geometry</a></li>
                <li><a href="../trigonometry/">Trigonometry</a></li>
                <li><a href="../statistics/">Statistics</a></li>
                <li><a href="../advanced/">Advanced</a></li>
                <li><a href="../tools/">Calculators</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <!-- Interactive Calculus Tools -->
        <section class="interactive-section">
            <h2 class="text-center">Interactive Calculus Tools</h2>
            <div class="solver-tabs">
                <div class="solver-tab active" onclick="switchSolverTab('derivative')">Derivative Calculator</div>
                <div class="solver-tab" onclick="switchSolverTab('integral')">Integral Calculator</div>
                <div class="solver-tab" onclick="switchSolverTab('limit')">Limit Calculator</div>
                <div class="solver-tab" onclick="switchSolverTab('graph')">Function Grapher</div>
            </div>

            <!-- Derivative Calculator -->
            <div id="derivative-solver" class="solver-content active">
                <h3>Derivative Calculator</h3>
                <p class="text-muted">Find derivatives of polynomial, trigonometric, and exponential functions</p>
                
                <div class="input-group">
                    <label for="derivative-function">Function f(x):</label>
                    <input type="text" id="derivative-function" class="input-field" placeholder="x^3 + 2*x^2 - 5*x + 1" value="x^3 + 2*x^2 - 5*x + 1">
                    <small class="text-muted">Use ^ for exponents, * for multiplication, sin(), cos(), exp(), ln()</small>
                </div>
                
                <button class="btn btn-primary" onclick="calculateDerivative()">Find Derivative</button>
                
                <div id="derivative-result" class="solution-display" style="display: none;">
                    <h4>Derivative:</h4>
                    <div id="derivative-solution"></div>
                </div>
                
                <div id="derivative-steps" class="solution-steps" style="display: none;">
                    <h4>Differentiation Steps:</h4>
                    <div id="derivative-steps-content"></div>
                </div>
            </div>

            <!-- Integral Calculator -->
            <div id="integral-solver" class="solver-content">
                <h3>Integral Calculator</h3>
                <p class="text-muted">Find antiderivatives and evaluate definite integrals</p>
                
                <div class="input-group">
                    <label for="integral-function">Function f(x):</label>
                    <input type="text" id="integral-function" class="input-field" placeholder="2*x + 3" value="2*x + 3">
                </div>
                
                <div class="grid grid-cols-2">
                    <div class="input-group">
                        <label for="integral-lower">Lower limit (optional):</label>
                        <input type="number" id="integral-lower" class="input-field" placeholder="0">
                    </div>
                    <div class="input-group">
                        <label for="integral-upper">Upper limit (optional):</label>
                        <input type="number" id="integral-upper" class="input-field" placeholder="2">
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="calculateIntegral()">Find Integral</button>
                
                <div id="integral-result" class="solution-display" style="display: none;">
                    <h4>Integral:</h4>
                    <div id="integral-solution"></div>
                </div>
                
                <div id="integral-steps" class="solution-steps" style="display: none;">
                    <h4>Integration Steps:</h4>
                    <div id="integral-steps-content"></div>
                </div>
            </div>

            <!-- Limit Calculator -->
            <div id="limit-solver" class="solver-content">
                <h3>Limit Calculator</h3>
                <p class="text-muted">Evaluate limits as x approaches a value</p>
                
                <div class="grid grid-cols-2">
                    <div class="input-group">
                        <label for="limit-function">Function f(x):</label>
                        <input type="text" id="limit-function" class="input-field" placeholder="(x^2 - 4)/(x - 2)" value="(x^2 - 4)/(x - 2)">
                    </div>
                    <div class="input-group">
                        <label for="limit-value">x approaches:</label>
                        <input type="text" id="limit-value" class="input-field" placeholder="2" value="2">
                        <small class="text-muted">Use 'infinity' for âˆž</small>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="calculateLimit()">Find Limit</button>
                
                <div id="limit-result" class="solution-display" style="display: none;">
                    <h4>Limit:</h4>
                    <div id="limit-solution"></div>
                </div>
                
                <div id="limit-steps" class="solution-steps" style="display: none;">
                    <h4>Solution Steps:</h4>
                    <div id="limit-steps-content"></div>
                </div>
            </div>

            <!-- Function Grapher -->
            <div id="graph-solver" class="solver-content">
                <h3>Function Grapher</h3>
                <p class="text-muted">Graph functions and visualize calculus concepts</p>
                
                <div class="input-group">
                    <label for="graph-function">Function f(x):</label>
                    <input type="text" id="graph-function" class="input-field" placeholder="x^2 - 3*x + 2" value="x^2 - 3*x + 2">
                </div>
                
                <div class="grid grid-cols-2">
                    <div class="input-group">
                        <label for="graph-min">x minimum:</label>
                        <input type="number" id="graph-min" class="input-field" placeholder="-5" value="-5">
                    </div>
                    <div class="input-group">
                        <label for="graph-max">x maximum:</label>
                        <input type="number" id="graph-max" class="input-field" placeholder="5" value="5">
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="graphFunction()">Graph Function</button>
                
                <div id="graph-result" class="graph-container" style="display: none;">
                    <h4>Graph:</h4>
                    <div id="graph-display" class="graph-placeholder">
                        Function graph will appear here
                    </div>
                </div>
            </div>
        </section>

        <!-- Calculus Concepts -->
        <section>
            <h2 class="text-center">Calculus Concepts</h2>
            
            <div class="concept-grid">
                <div class="concept-card">
                    <div class="concept-icon">ðŸ“Š</div>
                    <h3 class="concept-title">Limits</h3>
                    <p class="concept-description">The foundation of calculus - understanding what happens as variables approach specific values.</p>
                    <div class="example-preview">lim(xâ†’2) (xÂ²-4)/(x-2) = 4</div>
                    <a href="limits/" class="try-it-btn">Learn Limits</a>
                </div>

                <div class="concept-card">
                    <div class="concept-icon">ðŸ“ˆ</div>
                    <h3 class="concept-title">Derivatives</h3>
                    <p class="concept-description">Measure instantaneous rates of change and find slopes of tangent lines.</p>
                    <div class="example-preview">d/dx(xÂ³) = 3xÂ²<br>Rate of change</div>
                    <a href="derivatives/" class="try-it-btn">Master Derivatives</a>
                </div>

                <div class="concept-card">
                    <div class="concept-icon">âˆ«</div>
                    <h3 class="concept-title">Integrals</h3>
                    <p class="concept-description">Find areas under curves and solve accumulation problems.</p>
                    <div class="example-preview">âˆ« 2x dx = xÂ² + C<br>Area under curve</div>
                    <a href="integrals/" class="try-it-btn">Explore Integrals</a>
                </div>

                <div class="concept-card">
                    <div class="concept-icon">ðŸ”„</div>
                    <h3 class="concept-title">Chain Rule</h3>
                    <p class="concept-description">Differentiate composite functions using the chain rule technique.</p>
                    <div class="example-preview">d/dx[f(g(x))] = f'(g(x))Â·g'(x)</div>
                    <a href="chain-rule/" class="try-it-btn">Learn Chain Rule</a>
                </div>

                <div class="concept-card">
                    <div class="concept-icon">ðŸŽ¯</div>
                    <h3 class="concept-title">Optimization</h3>
                    <p class="concept-description">Find maximum and minimum values using calculus techniques.</p>
                    <div class="example-preview">f'(x) = 0 at extrema<br>Critical points</div>
                    <a href="optimization/" class="try-it-btn">Optimize Functions</a>
                </div>

                <div class="concept-card">
                    <div class="concept-icon">ðŸŒŠ</div>
                    <h3 class="concept-title">Applications</h3>
                    <p class="concept-description">Apply calculus to physics, economics, and real-world problems.</p>
                    <div class="example-preview">v(t) = s'(t)<br>Physics applications</div>
                    <a href="applications/" class="try-it-btn">See Applications</a>
                </div>
            </div>
        </section>

        <!-- Learning Path -->
        <section class="learning-path">
            <h2 class="text-center">Calculus Learning Path</h2>
            <p class="text-center">Master calculus with this structured approach</p>
            
            <div class="path-steps">
                <div class="path-step">
                    <div class="path-step-number">1</div>
                    <h4>Limits & Continuity</h4>
                    <p>Understand the foundation of calculus</p>
                </div>
                
                <div class="path-step">
                    <div class="path-step-number">2</div>
                    <h4>Derivatives</h4>
                    <p>Master differentiation rules and techniques</p>
                </div>
                
                <div class="path-step">
                    <div class="path-step-number">3</div>
                    <h4>Applications of Derivatives</h4>
                    <p>Solve optimization and related rate problems</p>
                </div>
                
                <div class="path-step">
                    <div class="path-step-number">4</div>
                    <h4>Integrals</h4>
                    <p>Learn integration techniques and applications</p>
                </div>
                
                <div class="path-step">
                    <div class="path-step-number">5</div>
                    <h4>Fundamental Theorem</h4>
                    <p>Connect derivatives and integrals</p>
                </div>
                
                <div class="path-step">
                    <div class="path-step-number">6</div>
                    <h4>Advanced Topics</h4>
                    <p>Explore sequences, series, and beyond</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2024 Math.help. All rights reserved.</p>
            <div class="footer-links">
                <a href="../privacy.html">Privacy Policy</a>
                <a href="../terms.html">Terms of Service</a>
                <a href="../contact.html">Contact</a>
            </div>
        </div>
    </footer>

    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script>
        // Calculus calculator functionality following Rams' principles

        // Tab switching
        function switchSolverTab(tabName) {
            // Hide all solver contents
            document.querySelectorAll('.solver-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.solver-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected content and activate tab
            document.getElementById(tabName + '-solver').classList.add('active');
            event.target.classList.add('active');
        }

        // Derivative Calculator
        function calculateDerivative() {
            const functionStr = document.getElementById('derivative-function').value;
            
            try {
                const derivative = differentiateFunction(functionStr);
                const steps = generateDerivativeSteps(functionStr, derivative);
                
                document.getElementById('derivative-solution').innerHTML = `f'(x) = ${derivative}`;
                document.getElementById('derivative-result').style.display = 'block';
                
                const stepsHtml = steps.map((step, index) => 
                    `<div class="step"><span class="step-number">${index + 1}</span>${step}</div>`
                ).join('');
                
                document.getElementById('derivative-steps-content').innerHTML = stepsHtml;
                document.getElementById('derivative-steps').style.display = 'block';
            } catch (error) {
                document.getElementById('derivative-solution').innerHTML = 'Error: Unable to differentiate this function';
                document.getElementById('derivative-result').style.display = 'block';
                document.getElementById('derivative-steps').style.display = 'none';
            }
        }

        function differentiateFunction(expr) {
            // Enhanced polynomial differentiation
            expr = expr.replace(/\s/g, '').replace(/\*/g, '');
            
            let result = expr
                // Handle x^n terms
                .replace(/(\d*)x\^(\d+)/g, (match, coeff, power) => {
                    coeff = coeff === '' ? 1 : parseInt(coeff);
                    power = parseInt(power);
                    if (power === 1) return coeff.toString();
                    if (power === 0) return '0';
                    return `${coeff * power}x^${power - 1}`;
                })
                // Handle x terms
                .replace(/(\d*)x(?!\^)/g, (match, coeff) => {
                    coeff = coeff === '' ? 1 : parseInt(coeff);
                    return coeff.toString();
                })
                // Handle sin(x)
                .replace(/sin\(x\)/g, 'cos(x)')
                // Handle cos(x)
                .replace(/cos\(x\)/g, '-sin(x)')
                // Handle exp(x) or e^x
                .replace(/exp\(x\)|e\^x/g, 'exp(x)')
                // Handle ln(x)
                .replace(/ln\(x\)/g, '1/x')
                // Handle constants
                .replace(/\b\d+\b/g, '0');
            
            // Clean up the result
            result = result.replace(/\+\s*0|0\s*\+|\b0\b/g, '').replace(/^\+/, '').replace(/\+$/, '');
            
            return result || '0';
        }

        function generateDerivativeSteps(original, derivative) {
            return [
                `Original function: f(x) = ${original}`,
                `Apply differentiation rules:`,
                `- Power rule: d/dx(x^n) = nÂ·x^(n-1)`,
                `- Constant rule: d/dx(c) = 0`,
                `- Sum rule: d/dx(u + v) = du/dx + dv/dx`,
                `Result: f'(x) = ${derivative}`
            ];
        }

        // Integral Calculator
        function calculateIntegral() {
            const functionStr = document.getElementById('integral-function').value;
            const lowerLimit = document.getElementById('integral-lower').value;
            const upperLimit = document.getElementById('integral-upper').value;
            
            try {
                const integral = integrateFunction(functionStr);
                const steps = generateIntegrationSteps(functionStr, integral, lowerLimit, upperLimit);
                
                let result = integral;
                if (lowerLimit !== '' && upperLimit !== '') {
                    const definiteResult = evaluateDefiniteIntegral(integral, lowerLimit, upperLimit);
                    result = `Definite integral: ${definiteResult}<br>Antiderivative: ${integral}`;
                } else {
                    result = `âˆ« ${functionStr} dx = ${integral}`;
                }
                
                document.getElementById('integral-solution').innerHTML = result;
                document.getElementById('integral-result').style.display = 'block';
                
                const stepsHtml = steps.map((step, index) => 
                    `<div class="step"><span class="step-number">${index + 1}</span>${step}</div>`
                ).join('');
                
                document.getElementById('integral-steps-content').innerHTML = stepsHtml;
                document.getElementById('integral-steps').style.display = 'block';
            } catch (error) {
                document.getElementById('integral-solution').innerHTML = 'Error: Unable to integrate this function';
                document.getElementById('integral-result').style.display = 'block';
                document.getElementById('integral-steps').style.display = 'none';
            }
        }

        function integrateFunction(expr) {
            // Basic integration rules
            expr = expr.replace(/\s/g, '').replace(/\*/g, '');
            
            let result = expr
                // Handle x^n terms
                .replace(/(\d*)x\^(\d+)/g, (match, coeff, power) => {
                    coeff = coeff === '' ? 1 : parseInt(coeff);
                    power = parseInt(power);
                    const newPower = power + 1;
                    return `${coeff}x^${newPower}/${newPower}`;
                })
                // Handle x terms
                .replace(/(\d*)x(?!\^)/g, (match, coeff) => {
                    coeff = coeff === '' ? 1 : parseInt(coeff);
                    return `${coeff}x^2/2`;
                })
                // Handle constants
                .replace(/\b(\d+)\b/g, (match, num) => {
                    return `${num}x`;
                });
            
            return result + ' + C';
        }

        function generateIntegrationSteps(original, integral, lower, upper) {
            const steps = [
                `Original function: f(x) = ${original}`,
                `Apply integration rules:`,
                `- Power rule: âˆ«x^n dx = x^(n+1)/(n+1) + C`,
                `- Constant rule: âˆ«c dx = cx + C`,
                `Antiderivative: ${integral}`
            ];
            
            if (lower !== '' && upper !== '') {
                steps.push(`Evaluate definite integral from ${lower} to ${upper}`);
                steps.push(`Apply fundamental theorem of calculus`);
            }
            
            return steps;
        }

        function evaluateDefiniteIntegral(integral, lower, upper) {
            // Simplified evaluation for basic functions
            return `F(${upper}) - F(${lower})`;
        }

        // Limit Calculator
        function calculateLimit() {
            const functionStr = document.getElementById('limit-function').value;
            const limitValue = document.getElementById('limit-value').value;
            
            try {
                const limit = evaluateLimit(functionStr, limitValue);
                const steps = generateLimitSteps(functionStr, limitValue, limit);
                
                document.getElementById('limit-solution').innerHTML = `lim(xâ†’${limitValue}) ${functionStr} = ${limit}`;
                document.getElementById('limit-result').style.display = 'block';
                
                const stepsHtml = steps.map((step, index) => 
                    `<div class="step"><span class="step-number">${index + 1}</span>${step}</div>`
                ).join('');
                
                document.getElementById('limit-steps-content').innerHTML = stepsHtml;
                document.getElementById('limit-steps').style.display = 'block';
            } catch (error) {
                document.getElementById('limit-solution').innerHTML = 'Error: Unable to evaluate this limit';
                document.getElementById('limit-result').style.display = 'block';
                document.getElementById('limit-steps').style.display = 'none';
            }
        }

        function evaluateLimit(expr, value) {
            // Simplified limit evaluation
            if (value === 'infinity') {
                return 'Analysis needed for behavior at infinity';
            }
            
            // For demonstration purposes, return a basic evaluation
            return 'Use L\'HÃ´pital\'s rule or algebraic manipulation';
        }

        function generateLimitSteps(original, value, limit) {
            return [
                `Find: lim(xâ†’${value}) ${original}`,
                `Try direct substitution`,
                `If indeterminate form (0/0, âˆž/âˆž), use:`,
                `- L'HÃ´pital's rule`,
                `- Algebraic manipulation`,
                `- Trigonometric identities`,
                `Result: ${limit}`
            ];
        }

        // Function Grapher
        function graphFunction() {
            const functionStr = document.getElementById('graph-function').value;
            const xMin = parseFloat(document.getElementById('graph-min').value);
            const xMax = parseFloat(document.getElementById('graph-max').value);
            
            document.getElementById('graph-result').style.display = 'block';
            document.getElementById('graph-display').innerHTML = `
                <div style="padding: 20px;">
                    <h4>Function: f(x) = ${functionStr}</h4>
                    <p>Domain: [${xMin}, ${xMax}]</p>
                    <p style="color: var(--color-accent);">Interactive graph would display here</p>
                    <p><em>Tip: Use online graphing tools like Desmos for detailed visualization</em></p>
                </div>
            `;
        }

        // Initialize KaTeX rendering
        document.addEventListener('DOMContentLoaded', function() {
            // Render any math expressions
            if (window.katex) {
                document.querySelectorAll('.example-preview').forEach(element => {
                    try {
                        katex.render(element.textContent, element, {
                            throwOnError: false,
                            displayMode: false
                        });
                    } catch (e) {
                        // Keep original text if KaTeX fails
                    }
                });
            }
        });
    </script>
</body>
</html>